<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Switchover JS Client Browser Demo</title>
    <script src="../../dist/switchover.min.js"></script>
</head>

<body>

    <h1>Welcome!</h1>

    <p>Your toggle status: <span id="toggle_status">-</span></p>

    <script>

        
        const sdkKey = '<SDK-KEY>';
        var client = Switchover.createClient(sdkKey, {
            autoRefresh: true,
            refreshInterval: 10,
            onUpdate: updated
        }, 'debug');
        
        client.fetch( function() {
            console.log("initialised");
            const ele = document.querySelector('#toggle_status');
            ele.textContent = client.toggleValue('<TOGGLE-KEY>', false);
        })


        function updated(keys) {
            console.log('Updated');

            console.log('Changed keys');
            console.log(keys);
            const ele = document.querySelector('#toggle_status');
            ele.textContent = client.toggleValue('<TOGGLE-KEY>', false);
        }
    </script>

</body>