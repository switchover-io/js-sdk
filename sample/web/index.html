<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Switchover JS Client Browser Demo</title>
    <script src="../../dist/switchover.min.js"></script>
</head>

<body>

    <h1>Welcome!</h1>

    <p>Your toggle status: <span id="toggle_status">-</span></p>

    <script>
        var client = Switchover.createClient('fb6c850f-7934-4645-a295-ab507857b01f', {
            autoRefresh: true,
            refreshInterval: 10,
            onInit: initialised,
            onUpdate: updated
        }, 'debug');
        

        function initialised() {
            console.log("initialised");
            const ele = document.querySelector('#toggle_status');
            ele.textContent = client.active('my-toggle', false);
        }

        function updated(keys) {
            console.log('Updated');

            console.log('Changed keys');
            console.log(keys);
            const ele = document.querySelector('#toggle_status');
            ele.textContent = client.active('my-toggle', false);
        }
    </script>

</body>